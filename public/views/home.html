<div class="row">

<div class="well well-sm" ng-show="currentUser.admin">
  <div class="btn-group" role="group" aria-label="...">
    <button type="button" ng-class="{'btn-default': !filterDownloaded, 'btn-success': filterDownloaded}" ng-click="toggleDowloadedFilter()">Downloaded</button>
    <button type="button" ng-class="{'btn-default': !filterDownloaded, 'btn-success': filterDownloaded}" ng-click="toggleNeedsProcessingFilter()">Needs Processing</button>
  </div>
    <div class="upload_file_form col-xs-6 pull-right">
      <form action="/api/upload_folder" method="post" enctype="multipart/form-data">
        <input type="submit" class="pull-right" value="Upload" name="submit">
        <input type="file" accept="application/zip, application/octet-stream" class="pull-right" name="file" id="file_to_upload">
      </form>
    </div>

</div>

  <div class="table-responsive">
    <table class="table table-bordered table-hover">
      <thead>
        <tr>
          <th>Me</th>
          <th>Name</th>
          <th>Status</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="folder in folders track by $index" ng-show="folderIsMine(folder)">
          <td class="col-xs-1 text-center">
            {{ folder.responsable.name }}</td>
          <td class="col-xs-4">
            <div>
              <a class="btn btn-primary" ng-show="folderIsMine(folder)" style="float:left" ui-sref="folders({id: folder.id})" class="btn">{{ folder.name_short }}</a>
              <span ng-hide="folderIsMine(folder)">{{ folder.id }}</span>
              <span style="font-size: 0.8em; color: gray; padding: 5px 20px">{{ folder.created_at }}</span>
              <span style="float:right">[{{ folder.duration }}]</span>
            </div>
          </td>
          <td class="col-xs-3 text-center" >
            <div class="progress">
              <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="{{ folder.translated }}" aria-valuemin="0" aria-valuemax="{{ folder.audios }}" style="width: {{ folder.completed }}%">
                {{ folder.completed }}%
              </div>
            </div>
          </td>
          <td>
            <span ng-show="notResponsable(folder)">
              <select id="translator_user" ng-change="selectUser(folder)" ng-model="values.selectedUser">
                <option ng-repeat="user in select_users" value="{{user.id}}">{{user.name}}</option>
              </select>
            </span>
            <span ng-show="folderIsMine(folder) && folder.hasResponsable">
              <a class="btn btn-primary" ui-sref="folders({id: folder.id})" class="btn">Edit</a>
            </span>
            <span ng-show="currentUser.admin">
              <a class="btn btn-warning" ui-sref="folders_review({id: folder.id})" class="btn">Review</a>
              <a class="btn" ng-class="{'btn-default': folder.downloaded, 'btn-success': !folder.downloaded}" ng-show="folderReady(folder)" target="_blank" href="/api/audio_folders_dowload/{{ folder.id }}" class="btn">Download</a>
            </span>
          </td>
        </tr>
      </tbody>
    </table>



  </div>

</div>
